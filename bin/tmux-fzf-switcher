#!/usr/bin/env bash

BIN="$HOME/dotfiles/rust/target/release/tmux-fzf-switcher"
if [[ -x "$BIN" ]]; then
  if [[ -n "$TMUX_FZF_SWITCHER_DEBUG" ]]; then
    echo "tmux-fzf-switcher: using $BIN" >&2
  fi
  exec "$BIN" "$@"
fi

if command -v tmux-fzf-switcher >/dev/null 2>&1; then
  if [[ -n "$TMUX_FZF_SWITCHER_DEBUG" ]]; then
    echo "tmux-fzf-switcher: using $(command -v tmux-fzf-switcher)" >&2
  fi
  exec tmux-fzf-switcher "$@"
fi

echo "tmux-fzf-switcher binary not found. Build with: just build tmux-fzf-switcher" >&2
exit 1
