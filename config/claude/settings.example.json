{
  "env": {
    "CLAUDE_CODE_DISABLE_NONESSENTIAL_TRAFFIC": "true",
    "CLAUDE_CODE_TMPDIR": "/tmp/claude",
    "USE_BUILTIN_RIPGREP": "0"
  },
  "permissions": {
    "allow": [
      "Bash(grep:*)",
      "Bash(find:*)",
      "Bash(cat:*)",
      "Bash(golangci-lint run:*)",
      "Bash(golangci-lint fmt:*)",
      "Bash(ruff:*)",
      "Bash(cargo fmt:*)",
      "Bash(biome:*)",
      "Bash(go build:*)",
      "Bash(go test:*)",
      "Bash(go mod tidy)",
      "Bash(gh pr view:*)",
      "Bash(gh pr checks:*)",
      "Bash(gh run view:*)",
      "Bash(gh issue view:*)",
      "Bash(tmux-dev stop:*)",
      "Bash(tmux-dev status:*)",
      "Bash(tmux-dev logs:*)",
      "Bash(tmux-dev list)",
      "mcp__ide__getDiagnostics",
      "mcp__context7",
      "mcp__playwright",
      "mcp__linear__list_projects",
      "mcp__linear__list_users",
      "mcp__linear__list_teams",
      "mcp__linear__get_user",
      "mcp__linear__get_team",
      "mcp__linear__list_issue_statuses",
      "mcp__linear__list_issue_labels",
      "WebFetch",
      "WebSearch",
      "Bash(git log:*)",
      "Bash(go doc:*)",
      "mcp__nixos",
      "Read(~/.claude/plans)",
      "Bash(notify:*)",
      "Bash(linear issues:*)",
      "Bash(linear start:*)",
      "SlashCommand:/handover",
      "Bash(remove-handoff)",
      "Skill(ast-grep)",
      "Bash(ast-grep:*)"
    ],
    "deny": [],
    "ask": ["Bash(rm:*)", "Bash(mv:*)"],
    "defaultMode": "acceptEdits"
  },
  "hooks": {
    "PreToolUse": [
      {
        "matcher": "Bash",
        "hooks": [
          {
            "type": "command",
            "command": "~/dotfiles/rust/target/release/bash-validator"
          }
        ]
      }
    ],
    "Stop": [
      {
        "hooks": [
          {
            "type": "command",
            "command": "~/dotfiles/rust/target/release/agent-switch track stop"
          }
        ]
      }
    ],
    "UserPromptSubmit": [
      {
        "hooks": [
          {
            "type": "command",
            "command": "~/dotfiles/rust/target/release/agent-switch track prompt-submit"
          }
        ]
      }
    ],
    "Notification": [
      {
        "hooks": [
          {
            "type": "command",
            "command": "python3 ~/dotfiles/config/claude/hooks/task_notification.py"
          }
        ]
      },
      {
        "matcher": "permission_prompt",
        "hooks": [
          {
            "type": "command",
            "command": "~/dotfiles/rust/target/release/agent-switch track notification"
          }
        ]
      }
    ],
    "SessionStart": [
      {
        "hooks": [
          {
            "type": "command",
            "command": "~/dotfiles/rust/target/release/agent-switch track session-start"
          }
        ]
      }
    ],
    "SessionEnd": [
      {
        "hooks": [
          {
            "type": "command",
            "command": "~/dotfiles/rust/target/release/agent-switch track session-end"
          }
        ]
      }
    ]
  },
  "statusLine": {
    "type": "command",
    "command": "python3 ~/dotfiles/config/claude/status_line.py",
    "padding": 0
  },
  "enabledPlugins": {
    "ast-grep@ast-grep-marketplace": true,
    "gopls-lsp@claude-plugins-official": true,
    "pyright-lsp@claude-plugins-official": true,
    "typescript-lsp@claude-plugins-official": true,
    "rust-analyzer-lsp@claude-plugins-official": true
  },
  "plansDirectory": ".claude/plans",
  "sandbox": {
    "excludedCommands": ["git", "go", "npm", "pnpm", "cargo", "make", "just", "uv", "nix", "docker", "tmux"]
  }
}
