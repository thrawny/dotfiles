# vim:ft=ansible:

- name: docker group is present
  group:
    name: docker
    state: present
  become: yes

- name: "{{ ansible_user }} is added to the docker group"
  user:
    name: "{{ ansible_user }}"
    groups: docker
    append: yes
  become: yes

- name: virtualenvwrapper conf is added to .zsh.local
  lineinfile:
    dest: "{{ home_dir }}/.zsh.local"
    line:  "{{ item }}"
    state: present
    create: yes
  with_items:
    - "export VIRTUALENVWRAPPER_PYTHON=/usr/bin/python3"
    - "source ~/.local/bin/virtualenvwrapper.sh"

- name: xorg conf files are symlinked to /usr/share/X11/xorg.conf.d
  file:
    state: link
    dest: "/usr/share/X11/xorg.conf.d/{{ item }}"
    src: "{{ dotfiles_dir }}/linux/xorg/{{ item }}"
  with_items:
    - "80-libinput.conf"
  become: yes
